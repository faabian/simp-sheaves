% Emacs mode: -*-latex-*-
% include latex header (\usepackage, \newcommand etc.) 
\input{header.tex}

\begin{document}

\title{Simpliziale Garben}
\author{Fabian Glöckle}
\date{\today}
% \maketitle

\section{Schwach konstruierbare Garben auf simplizialen Mengen}

In diesem Abschnitt möchten wir die Aussagen aus Kapitel \ref{??}
übertragen auf den Fall, dass es sich bei dem Basisraum um die
Realisierung einer simplizialen Menge anstelle eines
Simplizialkomplexes handelt. Wir gehen vor wie in den ersten beiden
Abschnitten.

Für die Darstellung von Garben auf simplizialen Mengen als
Diagrammkategorien von Garben definieren wir eine \emph{kategorielle
  Realisierung} einer simplizialen Menge. Wir benötigen die Begriffe
für nichtdegenerierte Simplizes (vgl. \ref{def:delta},
\ref{def:comb-standard-simplex}).
\begin{defn}
  Die Unterkategorie der endlichen nichtleeren Ordinalzahlen mit
  injektiven monotonen Abbildungen $\Delta^+ \subset \Delta$ heißt
  \emph{nichtdegenerierte Simplexkategorie}.
\end{defn}
Wir wiederholen die Begriffe für simpliziale Mengen für Prägarben auf
$\Delta^+$.
\begin{defn}
  Die darstellbare Prägarbe auf $\Delta^+$
  \[ \Delta^{+n} :=  \Delta^+(\cdot, [n]) \]
  heißt \emph{nichtdegenerierter Standard-$n$-Simplex}.
\end{defn}
Diese Zurodnung liefert einen Funktor $r: \Delta^+ \to [{\Delta^+}\op,
  \Ens]$. Wir erhalten unsere für die kategorielle Realisierung
gewünschte kosimpliziale Kategorie durch den Funktor der
nichtdegenerierten Simplizes des nichtdegenerierten
Standard-$n$-Simplex. Bezeichne dazu $\iota: \Delta^+ \inj \Delta$ den
Inklusionsfunktor und $\iota^*: [\Delta\op, \Ens] \to [{\Delta^+}\op,
  \Ens]$ den Rückzugsfunktor auf Prägarben.
\begin{defn}
  Der \emph{Stufenfunktor} ist der Funktor
  \[\Step: \slicecat{\Delta^+}{r}{\iota^* \Delta^n}
  \to \slicecat{\Delta^+}{r}{\Delta^{+n}},
  \]
  gegeben durch das kommutative Quadrat
  \[ 
  \begin{tikzcd}
    f: \Delta^{+m} \to \iota^* \Delta^n \dar[mapsto]{\sim} \rar[mapsto]
    & \Step f:  \Delta^{+k}  \to \iota^* \Delta^{+n} \dar[mapsto]{\sim} \\
    f \in \Delta([m], [n]) \rar[mapsto]
    & \hat{f} \in \Delta^+([k], [n]),
  \end{tikzcd}
  \]
  in dem die Vertikalen die eindeutigen Zuordnungen aus dem
  Yoneda-Lemma sind und die untere Horizontale die Abbildung, die eine
  monotone Abbildung $f$ auf die eindeutige monotone Injektion
  $\hat{f}$ mit demselben Bild (und anderem Definitionsbereich $[k]$)
  schickt.
\end{defn}
\begin{bem}
  Der Name ``Stufenfunktor'' rührt daher, dass die Werte einer
  monotonen Funktion die Stufen in ihrem Graphen beschreiben.
\end{bem}
Das Vorschalten von monotonen Injektionen vor $f \in \Delta([m], [n])$
(Morphismen in $\slicecat{\Delta^+}{r}{\iota^* \Delta^n}$) induziert
auf der zugehörigen monotonen Injektion $\hat{f} \in \Delta^+([k],
[n])$ ebenfalls Morphismen durch Vorschalten von Injektionen, denn das
Einschränken von Funktionen auf Teilmengen verkleinert auch die
Bildmengen. Dies zeigt die Funktorialität.
\begin{prop}
  Die Zuordnung
  \[ \begin{tikzcd}
    {[n]} \arrow{dd}{f} \rar[mapsto]
    & \slicecat{\Delta^+}{r}{\Delta^{+n}} \dar{f \circ} \\
    & \slicecat{\Delta^+}{r}{\iota^* \Delta^m} \dar{\Step} \\
    {[m]} \rar[mapsto]
    & \slicecat{\Delta^+}{r}{\Delta^{+m}}
  \end{tikzcd} \]
  ist ein Funktor $R: \Delta \to \poset$, genannt die
  \emph{kosimpliziale Standard-Kategorie}.
\end{prop}
\begin{proof}
  Wir müssen zeigen, dass für monotone $f: [m] \to [n]$ und $g: [l]
  \to [m]$ gilt
  \[ \Step ((f \circ g)\circ) = \Step (f \circ) \Step (g \circ) \]
  für $(f \circ)$ den Nachschaltefunktor und $\Step$ den
  Stufenfunktor. Das folgt aber daraus, dass beide Funktoren eine
  monotone Injektion $h: [k] \to [l]$ auf die Injektion auf $\im (f
  \circ g \circ h)$ schicken. Diese Entsprechnung ist verträglich mit
  Einschränkungen von $h$ (Vorschalten von monotonen Injektionen), ist
  also eine Transformation.

  Es handelt sich bei den Kategorien
  $\slicecat{\Delta^+}{r}{\Delta^{+n}}$ tatsächlich um halbgeordnete
  Mengen, denn die nichttrivialen Morphismen sind das Vorschalten von
  echten Injektionen und senken somit den Grad eines Simplex.
\end{proof}
\begin{prop} \label{cat-cocomplete}
  Die Kategorien der kleinen Kategorien $\Cat$ und der halbgeordneten
  Mengen $\poset$ sind kovollständig.
\end{prop}
\begin{proof}
  Koprodukte in $\Cat$ sind die Koprodukte der zugrundeliegenden
  Köcher, d. h. die disjunkte Vereinigung über die Objektmengen und
  aus den Ausgangskategorien übernommene Morphismenmengen.

  Die Koegalisatoren in $\Cat$ sind schwieriger, vergleiche
  \cite{BBP}. Wir geben die Konstruktion kurz an. Betrachte kleine
  Kategorien mit Funktoren $A
  \mathrel{\mathop{\rightrightarrows}^{F}_{G}} B$. Die dem
  Koegalisator $B \to C$ zugrundeliegende mengentheoretische Abbildung
  ist der Koegalisator der den Funktoren $F$ und $G$ zugrundeliegenden
  mengentheoretischen Abbildungen. Durch diese Identifikationen in $C$
  werden Morphismen neu komponierbar, deren Kompositionen den durch
  die Identifikationen verschmolzenen Morphismenmengen hinzugefügt
  werden. Weiter müssen wie im folgenden Diagramm Morphismen $Ff$ und
  $Gf$ identifiziert werden, was auf die Kompositionen fortgesetzt
  wird.
  \[ 
  \begin{tikzcd}
    a \ar{dd}{f}
    & Fa \rar[phantom]{\sim} \ar{dd}{Ff} & Ga \ar{dd}{Gf}  \\[-10pt]
    \rar[mapsto, shorten <= 2em, xshift = -1em]
    & \rar[phantom]{\sim} & \lar[phantom] \\[-10pt]
    b & Fb \rar[phantom]{\sim} & Gb
  \end{tikzcd}
  \]  
  Die Identifikationen $Fa \sim Ga$ für $a \in A$ und $Ff \sim Gf$ für
  $f \in A(a, b)$ sind notwendig für einen Koegalisator $B \to C$,
  damit $A \mathrel{\mathop{\rightrightarrows}^{F}_{G}} B \to C$
  übereinstimmen. Die weiteren Schritte machen ``minimalinvasiv'' $B$
  mit diesen Identifikationen wieder zu einer Kategorie.

  Für die volle Unterkategorie $\poset \subset \Cat$ können wir
  \ref{refl-sub-complete} verwenden, mit dem Reflektor $\Cat \to
  \poset$, der im folgenden Lemma konstruiert wird.
\end{proof}
\begin{defn}
  Eine Kategorie heißt \emph{dünn}, falls jede Morphismenmenge
  höchs\-tens einelementig ist. Eine Kategorie heißt
  \emph{Skelettkategorie}, falls in ihr jeder Isomorphismus eine
  Identität ist.
\end{defn}
\begin{lemma} \label{poset-reflective}
  Die vollen Unterkategorien $\mathrm{thinCat}, \mathrm{skelCat}
  \subset \Cat$ der dünnen bzw. Skelettkategorien sind reflektiv. Der
  Reflektor $\Cat \to \mathrm{skelCat}$ macht aus dünnen Kategorien
  dünne Kategorien und liefert durch Komposition mit dem Reflektor
  $\Cat \to \mathrm{thinCat}$ einen Reflektor $\Cat \to \poset$.
\end{lemma}
\begin{proof}
  Der Linksadjungierte zu $\mathrm{thinCat} \inj \Cat$ ist gegeben
  durch die Identifikation aller nichtleeren Morphismenmengen zu
  einelementigen Morphismenmengen. Der Linksadjungierte zu
  $\mathrm{skelCat} \inj \Cat$ ist die zu einer kleinen Kategorie mit
  dem Auswahlaxiom konstruierte Unterkategorie, die Isomorphieklassen
  von Objekten durch ein Objekt aus diesen ersetzt. Klar ist, dass
  Funktoren $F: C \to D$ in eine dünne Kategorie $D$ Abbildungen auf
  Objekten sind mit der Zusatzeigenschaft, dass es einen Morphismus
  $Ff: Fx \to Fy$ in $D$ geben muss, wann immer es einen Morphismus
  $f: x \to y$ in $C$ gibt. Das ist unerheblich davon, wie viele
  Morphismen $x \to y$ es in $C$ gibt und zeigt die erste
  Adjunktion. Ein Funktor in eine Skelettkategorie schickt isomorphe
  Objekte auf dasselbe Objekt, wird also schon durch das Bild eines
  Objekts jeder Isomorphieklasse eindeutig festgelegt. Dies zeigt die
  zweite Adjunktion.

  Der Reflektor $\Cat \to \mathrm{skelCat}$ liefert eine
  Unterkategorie und erhält deshalb Dünnheit. Halbgeordnete Mengen
  sind nach Definition dünne Skelettkategorien.
\end{proof}
\begin{bem}
  Der Ansatz, Limites und Kolimites in $Cat$ mittels
  \ref{refl-sub-complete} über die Einbettung $\Cat \subset
  \mathrm{Quiv}$ in die Kategorie der Köcher zu konstruieren,
  funktioniert \emph{nicht}. Jene ist als Prägarbenkategorie
  tatsächlich vollständig und kovollständig und die Inklusion hat mit
  der freien Pfadkategorie über einem Köcher tatsächlich einen
  Linksadjungierten; allerdings handelt es sich nicht um eine volle
  (dann also reflektive) Unterkategorie, weshalb die Limites und
  Kolimites von denen in $\mathrm{Quiv}$ bzw. ihren freien
  Pfadkategorien abweichen.
\end{bem}
\begin{defn}
  Die \emph{kategorielle Realisierung} einer simplizialen Menge $X \in
  \s\Ens$ ist definiert als das Tensorprodukt von Funktoren $X \otimes
  R \in \poset$ für $R$ die kosimpliziale Standard-Kategorie und die
  natürliche $\Ens$-tensorierte Struktur auf $\poset$
  (\ref{ens-tensored}).
\end{defn}

\begin{prop}
  Sei $X \in \s\Ens$ eine simpliziale Menge. Dann gibt es einen
  Homöomorphismus $\blacktriangle X \iso X \otimes R$, wobei $X
  \otimes R$ die Ordnungstopologie trägt. Insbesondere hat jeder Punkt
  in der plumpen Realisierung $\sigma \in \blacktriangle X$ eine
  kleinste offene Umgebung $(\geq \sigma)$.
\end{prop}
\begin{proof}
  % TODO coends commute with colimit over the coend-defining functor
  % TODO \Ord functor and its cocontinuity
  
  Der Funktor $\Ord: \poset \to \Top$ ist nach dem nachgestellten
  Lemma kostetig. Daher reicht es mit \ref{??}, einen Isomorphismus
  kosimplizialer topologischer Räume $\blacktriangle \to \Ord R$ zu
  finden. Beide bestehen aus einem Punkt pro nichtdegeneriertem
  Simplex (\ref{cw-disjoint-inner}) von $\Delta^n$ und haben als
  offene Mengen nach oben abgeschlossene Mengen. Randabbildungen $d_i$
  sind Inklusionen in die Ränder, Degenerationen Kollapse von
  Kanten. Dies begründen wir sorgfältiger: Unsere Definition von
  $Rs_i: R[n] \to R[n-1]$ schickt einen nichtdegenerierten Simplex $f:
  [m] \to [n]$ monoton und injektiv auf $N(s_i \circ f)$, den
  nichtdegenerierten Simplex, der zum Kollaps von $i$ und $i+1$ in $f$
  gehört.
\end{proof}
\begin{lemma}
  Der Funktor $\Ord: \poset \to \Top$, der eine halbgeordneten Menge
  mit der Ordnungstopologie versieht, ist kostetig.
\end{lemma}
\begin{proof}
    Klar ist, dass $\Ord$ mit Koprodukten vertauscht. Sei nun $A
    \mathrel{\mathop{\rightrightarrows}^{F}_{G}} B \to C$ ein
    Koegalisator in den halbgeordneten Mengen. Dann ist nach
    \ref{cat-cocomplete} und \ref{poset-reflective} die
    zugrundeliegende mengentheoretische Abbildung von $B \to C$ der
    mengentheoretische Koegalisator: nur der Reflektor $\Cat \to
    \mathrm{skelCat}$ könnte die zugrundeliegende Menge ändern, wird
    aber bereits auf eine Skelettkategorie angewandt, denn ein
    Kategorienkolimes über halbgeordnete Mengen enthält keine
    Morphismen in entgegengesetzte Richtungen.

    % TODO: Finaltopologie?    
\end{proof}

% TODO ersetze Step durch N

% TODO sheaf-order-top
Mit \ref{sheaf-order-top} erhalten wir sofort:
\begin{prop}
  Sei $X \in \s\Ens$ eine simpliziale Menge. Dann gibt es eine
  Äquivalenz von Kategorien $\Ens_{/\blacktriangle X} \qiso [(X
    \otimes R)\op, \Ens]$.
\end{prop}

Betrachte nun für eine feste simpliziale Menge $X \in \s\Ens$ die
volle Unterkategorie $(\s\EnsssTop)_X \subset \s\EnsssTop$ der
simplizialen Garben über topologischen Räumen mit Komorphismen mit der
simplizialen Menge $X$ als diskreten Basisräumen.

Wir erhalten die folgende Übertragung von \ref{sheaf-simp-compl}:
\begin{prop}
  Die kovariante Realisierung mittels plumper Simplizes
  (\ref{real-enstop-cov}) liefert eine Äquivalenz von Kategorien
  \[ (\s\EnsssTop)_X \qiso \Ens_{/\blacktriangle X}. \]
  Weiter gibt es eine Äquivalenz
  \[ (\s\EnsssTop)_X \qiso [(X \otimes R)\op, \Ens] \]
  gegeben durch den Funktor, der $F \in (\s\EnsssTop)_X$ auf den
  Funktor $(\sigma \mapsto (F_n)_\sigma$ schickt für $\sigma \in
  NX_n$.
\end{prop}
\begin{proof}
  Eine Garbe $F_n$ über einem diskreten Raum $X_n$ ist diskret und
  somit durch ihre Halme festgelegt. Wir können sie somit als einen
  Funktor der diskreten Kategorie $X_n$ in die Kategorie der Mengen
  $F_n: X_n \to \Ens$ auffassen. Ein Komorphismus über $Ff^*: X_m \to
  X_n$ sind dann Abbildungen zwischen den Halmen $(F_n)_{Ff(\sigma)}
  \to (F_m)_\sigma$ für $\sigma \in X_m$.
\end{proof}

% TODO überleiten

Nach der Bemerkung \ref{sk-homalg} reicht es, die topologischen Teile
des Beweises aus \ref{ch2??} zu übertragen. Wir formulieren ganz
allgemein:
\begin{defn}
  Eine Konstruierbarkeitssituation ist eine stetige Abbildung $p: |\K|
  \to \K$ topologischer Räume, sodass gilt: Jeder Punkt $\sigma \in
  \K$ besitzt eine kleinste offene Umgebung $(\geq \sigma)$. Wir
  notieren $U(\sigma) = p^{-1}((\geq \sigma))$. Eine Garbe $F \in
  \AbKr$ heißt schwach $|\K|$-konstruierbar, falls die Koeinheit der
  Adjunktion auf $F$ einen Isomorphismus $p^* p_* F \iso F$ ist.
\end{defn}
In unserer Konstruierbarkeitssituation nennen wir $\K$ die
\emph{kombinatorische} und $|\K|$ die \emph{geometrische
  Realisierung}. Wir übertragen den Begriff derivierter schwach
$|\K|$-konstruierbarer Garben (mit schwach $|\K|$-konstruierbaren
Kohomologiegarben) und die Notationen $\sKons(\K)$ und $\DerskK$.

Wir können mit identischem Beweis den allgemeinen Teil von
\ref{sk-char} übertragen:
\begin{prop} \label{gensk-char}
  Für $F \in \AbKr$ sind äquivalent:
  \begin{enumerate}[label=(\arabic*)]
  \item \label{itm:gensk-char-sk} $F$ ist schwach $|\K|$-konstruierbar
  \item \label{itm:gensk-char-essim} $F$ liegt im wesentlichen Bild
    des Rückzugs $p^*$.
  \item \label{itm:gensk-char-res} Die Restriktion $F(U(\sigma)) \to
    F_x$ ist für alle $\sigma \in \K$ und alle $x \in |\sigma|$ ein
    Isomorphismus.
  \end{enumerate}
\end{prop}

In guten Konstruierbarkeitssituationen lässt sich auch eine
geometrische Formulierung schwacher $|\K|$-Konstruierbarkeit angeben:
\begin{defn}
  In einer Konstruierbarkeitssituation $p: |\K| \to \K$ heißt eine
  Garbe $F \in \AbKr$ geometrisch schwach $|\K|$-konstruierbar, falls
  die Einschränkungen $F|_{|\sigma|}$ konstant sind für alle Urbilder
  $|\sigma| = p^{-1}(\sigma)$ von Punkten $\sigma \in \K$.
\end{defn}
\begin{prop} \label{gensk-char-geom}
  Ist in einer Konstruierbarkeitssituation $p: |\K| \to \K$ ...  so
  ist für eine Garbe $F \in \AbKr$ äquivalent:
  \begin{enumerate}
    \item \label{itm:gensk-char-geom-sk} $F$ ist $|\K|$-konstruierbar.
    \item \label{itm:gensk-char-geom-geom} $F$ ist geometrisch schwach
      $|\K|$-konstruierbar.
  \end{enumerate}
  \end{prop}
Das ist der fehlende Teil von \ref{sk-char}.
\begin{proof}
  Die Richtung $\ref{itm:gensk-char-geom-sk} \Implies
  \ref{itm:gensk-char-geom-geom}$ folgt wieder aus \ref{gensk-char}
  \ref{itm:gensk-char-res} und \ref{const-stalk} wegen $|\sigma|
  \subset U(\sigma)$.

  Für die umgekehrte Richtung %TODO
\end{proof}

\end{document}
